  <nav class="fixed-title">
    <h2>tasks </h2>
  </nav>


  <div class="task-list">

  <!-- iterate through the all tasks -->
    <div class="task" ng-repeat="(key, task) in tasks" ng-class="{toggled: toggled==task.name}">

      <div class="task-header">
        <h2 ng-click="toggle(task)">
          <a>{{task.name}}</a>
        </h2>

        <h3>{{task.description}}</h3>
      </div>

      <div class="task-body">
        <div class="task-body-inner">
          <!-- iterate through the configured fields -->
          <div class="field" ng-repeat="(key, field) in task.fields">
            
            <label>{{field.name}}</label>

            <!-- Show edit or read only field -->
            <span ng-show="!scope.editmode">{{field.value}}</span>
            <input ng-show="scope.editmode" type="{{field.type}}" placeholder="{{field.name}}" ng-model="field.value" />
          </div>
        
          <!-- Show a list of dependencies -->
          <h3 class="dependencies" ng-show="task.dependencies.length">Dependencies</h3>
          <ul ng-repeat="(key, dependency) in task.dependencies">
            <li>{{dependency}}</li>
          </ul>

          <h3 class="no-task-specs" ng-hide="task.dependencies.length+task.fields.length">No specs for this task</h3>

          <!-- Edit mode for this task -->
          <a class="edit-toggle edit-btn" ng-show="!scope.editmode" ng-click="scope.editmode=!scope.editmode">+</a>
          <a class="edit-toggle abs-btn close-btn" ng-show="scope.editmode" ng-click="scope.editmode=!scope.editmode">&times;</a>

        </div>
      </div>

    </div>  

  </div>

  <div class="add-task-bar">
    <a class="add-task" ng-click="showAdd=!showAdd">+</a>
  </div>

  <div class="add-task">

    <div class="overlay" ng-show="showAdd">
      
      <a class="abs-btn" ng-click="showAdd=false">&times;</a>

    </div>

  </div>